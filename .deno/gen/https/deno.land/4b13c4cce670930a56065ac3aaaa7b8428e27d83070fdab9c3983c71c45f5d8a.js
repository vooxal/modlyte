import { blue, bold, ConsoleHandler, logger, red, yellow } from "../deps.ts";
import { VR_LOG } from "./consts.ts";
const LEVEL_PREFIX = {
  [logger.LogLevels.INFO]: blue("info"),
  [logger.LogLevels.WARNING]: yellow("warn"),
  [logger.LogLevels.ERROR]: red("error"),
  [logger.LogLevels.CRITICAL]: bold(red("critical")),
};
await logger.setup({
  handlers: {
    console: new class extends ConsoleHandler {
      format(logRecord) {
        const prefix = LEVEL_PREFIX[logRecord.level];
        return `${prefix ? `${prefix}: ` : ""}${logRecord.msg}`;
      }
    }("DEBUG"),
  },
  loggers: {
    default: {
      level: Deno.env.get(VR_LOG) || "INFO",
      handlers: ["console"],
    },
  },
});
export const log = logger.getLogger();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibG9nZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxJQUFJLEVBQ0osSUFBSSxFQUNKLGNBQWMsRUFFZCxNQUFNLEVBRU4sR0FBRyxFQUNILE1BQU0sR0FDUCxNQUFNLFlBQVksQ0FBQztBQUNwQixPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXJDLE1BQU0sWUFBWSxHQUE4QjtJQUM5QyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUNyQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUMxQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQztJQUN0QyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztDQUNuRCxDQUFDO0FBRUYsTUFBTSxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLFFBQVEsRUFBRTtRQUNSLE9BQU8sRUFBRSxJQUFJLEtBQU0sU0FBUSxjQUFjO1lBQ3ZDLE1BQU0sQ0FBQyxTQUFvQjtnQkFDekIsTUFBTSxNQUFNLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDN0MsT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUMxRCxDQUFDO1NBQ0YsQ0FBQyxPQUFPLENBQUM7S0FDWDtJQUNELE9BQU8sRUFBRTtRQUNQLE9BQU8sRUFBRTtZQUNQLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQWMsSUFBSSxNQUFNO1lBQ2xELFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQztTQUN0QjtLQUNGO0NBQ0YsQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyJ9
